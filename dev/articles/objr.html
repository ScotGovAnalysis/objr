<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to objr • objr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to objr">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">objr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/objr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/authentication.html">Authentication</a></li>
    <li><a class="dropdown-item" href="../articles/two-factor.html">Two-Factor Authentication</a></li>
    <li><a class="dropdown-item" href="../articles/faqs.html">Frequently Asked Questions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ScotGovAnalysis/objr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Introduction to objr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ScotGovAnalysis/objr/blob/main/vignettes/objr.Rmd" class="external-link"><code>vignettes/objr.Rmd</code></a></small>
      <div class="d-none name"><code>objr.Rmd</code></div>
    </div>

    
    
<p>objr aims to provide a convenient method of interacting with <a href="https://secure.objectiveconnect.co.uk" class="external-link">Objective Connect</a> using
R, making use of the <a href="https://secure.objectiveconnect.co.uk/publicapi/1/swagger-ui/index.html" class="external-link">Objective
Connect API</a>.</p>
<p>This article demonstrates a simple workflow for using the package,
with the ultimate aim of downloading or uploading a file to an Objective
Connect workspace.</p>
<p>Start by loading the package in your R session:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ScotGovAnalysis/objr" class="external-link">objr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="universally-unique-identifiers">Universally Unique Identifiers<a class="anchor" aria-label="anchor" href="#universally-unique-identifiers"></a>
</h2>
<p>It is useful to be aware that everything on Objective Connect is
associated with a Universally Unique Identifier (UUID). This includes
users, workgroups, workspaces, participants in a workspace and assets in
a workspace.</p>
<p>Objective Connect UUIDs take the form of a string of eight chunks of
four lower case letters and numbers, separated by dashes. For
example:</p>
<pre><code>84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f</code></pre>
<p>Use of the API and the objr package depends on these UUIDs. UUIDs are
mostly findable using the functions in objr (as demonstrated in this
article), however you can often also find relevant UUIDs in the webpage
URLs. For example, this is an example URL when viewing a workspace:</p>
<pre><code>https://secure.objectiveconnect.co.uk/share/2vo2-dd3s-1nn9-y20r-b906-u4s2-
7134-b352?workgroupUuid=2j47-ff38-lcgg-mnis-3vq8-9536-9jfp-oy44</code></pre>
<p>The UUID for the workspace is
<code>2vo2-dd3s-1nn9-y20r-b906-u4s2-7134-b352</code> and the UUID for
the workgroup is
<code>2j47-ff38-lcgg-mnis-3vq8-9536-9jfp-oy44</code>.</p>
</div>
<div class="section level2">
<h2 id="test-your-authentication">Test your authentication<a class="anchor" aria-label="anchor" href="#test-your-authentication"></a>
</h2>
<p>To interact with the Objective Connect API, you must provide valid
authentication. This is explained in more detail in
<code><a href="../articles/authentication.html">vignette("authentication")</a></code>.</p>
<p>It might be a good idea to test your authentication, especially if
it’s your first time using the package. There is no specific function
for this, but the following simple function to get your own user ID
requires no input and is an easy way to test that you can get a
successful response from the API.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">me</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/my_user_id.html">my_user_id</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="workspaces">Workspaces<a class="anchor" aria-label="anchor" href="#workspaces"></a>
</h2>
<p>To see workspaces you are a member of:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">workspaces</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/workspaces.html">workspaces</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This returns a data frame with a row for each workspace you are a
member of. Among other things, there will be a column containing the
workspace name and another containing the workspace UUID. For
example:</p>
<pre><code><span><span class="co">##   workspace_name                          workspace_uuid</span></span>
<span><span class="co">## 1      Project 1 84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f</span></span>
<span><span class="co">## 2      Project 2 2vo2-dd3s-1nn9-y20r-b906-u4s2-7134-b352</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="assets">Assets<a class="anchor" aria-label="anchor" href="#assets"></a>
</h2>
<p>Maybe you would like to download a file from one of your workspaces.
In Objective Connect, files are also known as ‘assets’. To download an
asset, you’ll need its UUID.</p>
<blockquote>
<p>Note: Where workspaces have two-factor authentication (2FA) enabled,
participants cannot use the API for workspace level actions unless they
have been given permission to bypass 2FA. See
<code><a href="../articles/two-factor.html">vignette("two-factor")</a></code> for more information.</p>
</blockquote>
<p>Use the workspace UUID from <code>workspaces</code> to get a data
frame of assets in the workspace:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">assets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assets.html">assets</a></span><span class="op">(</span><span class="st">"84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f"</span><span class="op">)</span></span></code></pre></div>
<p>This returns a data frame with a row for each asset in the workspace.
Among other things, there will be a column containing the asset name and
another containing the asset UUID.</p>
<pre><code><span><span class="co">##   asset_name asset_ext                              asset_uuid</span></span>
<span><span class="co">## 1      file1      docx 2j47-ff38-lcgg-mnis-3vq8-9536-9jfp-oy44</span></span>
<span><span class="co">## 2      file2       csv l588-e8wp-d6y8-3d01-blby-wag1-ks1s-gmo9</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="download-file">Download file<a class="anchor" aria-label="anchor" href="#download-file"></a>
</h2>
<p>To download a document, use its UUID and the file path of the folder
you’d like the downloaded file to be saved to:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/download_file.html">download_file</a></span><span class="op">(</span>document_uuid <span class="op">=</span> <span class="st">"2j47-ff38-lcgg-mnis-3vq8-9536-9jfp-oy44"</span>,</span>
<span>              folder <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This function doesn’t return anything but will display a message in
the R console to indicate the download has been a success and to confirm
the location of the file:</p>
<pre><code><span><span class="co">## <span style="color: #00BB00;">✔</span> File downloaded: project-1/data/file1.docx.</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="read-data">Read data<a class="anchor" aria-label="anchor" href="#read-data"></a>
</h2>
<p>Alternatively, you can read a data file directly into your R
environment:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_data.html">read_data</a></span><span class="op">(</span>document_uuid <span class="op">=</span> <span class="st">"l588-e8wp-d6y8-3d01-blby-wag1-ks1s-gmo9"</span><span class="op">)</span></span></code></pre></div>
<p>Accepted data file formats are csv, rds, xlsx and parquet.</p>
</div>
<div class="section level2">
<h2 id="upload-file">Upload file<a class="anchor" aria-label="anchor" href="#upload-file"></a>
</h2>
<p>To upload a file to a workspace, use the UUID of the workspace and
the file path of the file to upload:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/upload_file.html">upload_file</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"file3.csv"</span><span class="op">)</span>,</span>
<span>            workspace_uuid <span class="op">=</span> <span class="st">"84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f"</span><span class="op">)</span></span></code></pre></div>
<p>This function doesn’t return anything but will display a message in
the R console to indicate the upload has been a success and to confirm
the name of the file.</p>
<pre><code><span><span class="co">## <span style="color: #00BB00;">✔</span> New document created: file3.csv.</span></span></code></pre>
<p>Now, if you rerun the previous step to get a data frame of workspace
assets, you should see an additional row for the file you’ve just
uploaded.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">assets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assets.html">assets</a></span><span class="op">(</span><span class="st">"84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   asset_name asset_ext                              asset_uuid</span></span>
<span><span class="co">## 1      file1      docx 2j47-ff38-lcgg-mnis-3vq8-9536-9jfp-oy44</span></span>
<span><span class="co">## 2      file2       csv l588-e8wp-d6y8-3d01-blby-wag1-ks1s-gmo9</span></span>
<span><span class="co">## 3      file3       csv 9tp8-3vme-d381-7o89-4qns-qw99-310b-3d06</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="write-data">Write data<a class="anchor" aria-label="anchor" href="#write-data"></a>
</h2>
<p>Alternatively, you can write data directly from R:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/write_data.html">write_data</a></span><span class="op">(</span><span class="va">mtcars</span>,</span>
<span>           file_name <span class="op">=</span> <span class="st">"mtcars"</span>,</span>
<span>           file_type <span class="op">=</span> <span class="st">"rds"</span>,</span>
<span>           workspace_uuid <span class="op">=</span> <span class="st">"84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">assets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assets.html">assets</a></span><span class="op">(</span><span class="st">"84op-9qdu-c692-t4z1-wa4z-h9k3-8454-i71f"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   asset_name asset_ext                              asset_uuid</span></span>
<span><span class="co">## 1      file1      docx 2j47-ff38-lcgg-mnis-3vq8-9536-9jfp-oy44</span></span>
<span><span class="co">## 2      file2       csv l588-e8wp-d6y8-3d01-blby-wag1-ks1s-gmo9</span></span>
<span><span class="co">## 3      file3       csv 9tp8-3vme-d381-7o89-4qns-qw99-310b-3d06</span></span>
<span><span class="co">## 4     mtcars       rds fh84-jbdy-g6kp-68z8-gt3v-ds39-x74p-80m3</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by the Scottish Government  <a href="https://www.gov.scot" class="external-link"><i class="fa-solid fa-arrow-pointer" aria-hidden="true"></i><span class="visually-hidden">Scottish Government Website&gt;</span></a>  <a href="mailto:statistics.enquiries@gov.scot"><i class="fa-solid fa-envelope" aria-hidden="true"></i><span class="visually-hidden">Email Scottish Government&gt;</span></a>  <a href="https://github.com/scotgovanalysis" class="external-link"><i class="fa-brands fa-github" aria-hidden="true"></i><span class="visually-hidden">Scottish Government GitHub profile&gt;</span></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
